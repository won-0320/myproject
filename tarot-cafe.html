<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>신비로운 타로 카페</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #2c1810 0%, #1a0f0a 50%, #0f0806 100%);
            color: #f4e4c1;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .title {
            font-size: 3rem;
            color: #d4af37;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #c19a6b;
            font-style: italic;
        }

        .cafe-atmosphere {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.1;
            background-image:
                radial-gradient(circle at 20% 80%, rgba(212, 175, 55, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(193, 154, 107, 0.3) 0%, transparent 50%);
        }

        .reading-area {
            background: rgba(44, 24, 16, 0.8);
            border-radius: 20px;
            padding: 40px;
            border: 2px solid #d4af37;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
            backdrop-filter: blur(10px);
            margin-bottom: 40px;
        }

        .question-section {
            text-align: center;
            margin-bottom: 30px;
        }

        .question-input {
            width: 100%;
            max-width: 500px;
            padding: 15px;
            font-size: 1.1rem;
            border: 2px solid #d4af37;
            border-radius: 10px;
            background: rgba(15, 8, 6, 0.8);
            color: #f4e4c1;
            text-align: center;
            font-family: 'Georgia', serif;
        }

        .question-input::placeholder {
            color: #c19a6b;
            font-style: italic;
        }

        .draw-button {
            background: linear-gradient(45deg, #d4af37, #c19a6b);
            color: #2c1810;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        .draw-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5);
        }

        .cards-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .card {
            width: 120px;
            height: 200px;
            background: linear-gradient(145deg, #1a0f0a, #2c1810);
            border: 3px solid #d4af37;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }

        .card:hover {
            transform: translateY(-10px) rotate(2deg);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.4);
        }

        .card-back {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #d4af37, #c19a6b);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #2c1810;
            transition: all 0.3s ease;
        }

        .card-front {
            width: 100%;
            height: 100%;
            background: #f4e4c1;
            color: #2c1810;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
            text-align: center;
        }

        .card-front.revealed {
            display: flex;
        }

        .card-back.hidden {
            display: none;
        }

        .card-name {
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .card-image {
            font-size: 3rem;
            margin: 10px 0;
        }

        .interpretation {
            background: rgba(15, 8, 6, 0.9);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            border: 2px solid #c19a6b;
            display: none;
        }

        .interpretation.show {
            display: block;
        }

        .interpretation h3 {
            color: #d4af37;
            margin-bottom: 20px;
            font-size: 1.5rem;
            text-align: center;
        }

        .card-meaning {
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(44, 24, 16, 0.6);
            border-radius: 10px;
            border-left: 4px solid #d4af37;
        }

        .card-meaning h4 {
            color: #d4af37;
            margin-bottom: 10px;
        }

        .card-meaning p {
            line-height: 1.6;
        }

        .reset-button {
            background: linear-gradient(45deg, #c19a6b, #8b6914);
            color: #f4e4c1;
            border: none;
            padding: 12px 25px;
            font-size: 1rem;
            border-radius: 20px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .reset-button:hover {
            background: linear-gradient(45deg, #d4af37, #c19a6b);
            color: #2c1810;
        }

        .candles {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 2rem;
            z-index: 1000;
        }

        .candles-right {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 2rem;
            z-index: 1000;
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .candle {
            animation: flicker 2s ease-in-out infinite alternate;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 2rem;
            }

            .cards-container {
                gap: 10px;
            }

            .card {
                width: 100px;
                height: 160px;
            }

            .reading-area {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="cafe-atmosphere"></div>
    <div class="candles">
        <span class="candle">🕯️</span>
        <span class="candle">🕯️</span>
    </div>
    <div class="candles-right">
        <span class="candle">🕯️</span>
        <span class="candle">🕯️</span>
    </div>

    <div class="container">
        <header class="header">
            <h1 class="title">✨ 신비로운 타로 카페 ✨</h1>
            <p class="subtitle">"운명의 실을 따라 미래를 엿보다"</p>
        </header>

        <div class="reading-area">
            <div class="question-section">
                <input type="text" class="question-input" id="userQuestion" placeholder="마음속 질문을 입력해주세요...">
                <br>
                <button class="draw-button" onclick="drawCards()">🔮 카드 뽑기</button>
            </div>

            <div class="cards-container" id="cardsContainer">
                <div class="card" onclick="revealCard(0)">
                    <div class="card-back">🌟</div>
                    <div class="card-front">
                        <div class="card-name" id="cardName0"></div>
                        <div class="card-image" id="cardImage0"></div>
                    </div>
                </div>
                <div class="card" onclick="revealCard(1)">
                    <div class="card-back">🌙</div>
                    <div class="card-front">
                        <div class="card-name" id="cardName1"></div>
                        <div class="card-image" id="cardImage1"></div>
                    </div>
                </div>
                <div class="card" onclick="revealCard(2)">
                    <div class="card-back">⭐</div>
                    <div class="card-front">
                        <div class="card-name" id="cardName2"></div>
                        <div class="card-image" id="cardImage2"></div>
                    </div>
                </div>
            </div>

            <div class="interpretation" id="interpretation">
                <h3>🔮 카드 해석 🔮</h3>
                <div id="cardMeanings"></div>
                <button class="reset-button" onclick="resetReading()">새로운 점괘 보기</button>
            </div>
        </div>
    </div>

    <script>
        const tarotCards = [
            {
                name: "바보 (The Fool)",
                image: "🃏",
                meaning: "새로운 시작과 모험을 의미합니다. 순수한 마음으로 새로운 여정을 시작할 때입니다. 과감한 도전이 행운을 가져다 줄 것입니다."
            },
            {
                name: "마법사 (The Magician)",
                image: "🎩",
                meaning: "의지력과 창조력의 상징입니다. 당신이 원하는 것을 실현시킬 능력이 있습니다. 집중력을 발휘하면 목표를 달성할 수 있습니다."
            },
            {
                name: "여교황 (The High Priestess)",
                image: "👸",
                meaning: "직감과 내면의 지혜를 나타냅니다. 논리보다는 직감을 믿어야 할 때입니다. 숨겨진 진실이 곧 드러날 것입니다."
            },
            {
                name: "황후 (The Empress)",
                image: "👑",
                meaning: "풍요로움과 창조성의 상징입니다. 사랑과 아름다움이 당신을 둘러쌀 것입니다. 새로운 생명력과 에너지를 얻게 됩니다."
            },
            {
                name: "황제 (The Emperor)",
                image: "👨‍💼",
                meaning: "권위와 안정성을 의미합니다. 강한 의지력으로 상황을 통제할 수 있습니다. 리더십을 발휘해야 할 시기입니다."
            },
            {
                name: "교황 (The Hierophant)",
                image: "⛪",
                meaning: "전통과 지혜의 상징입니다. 기존의 규칙과 관습을 따르는 것이 좋습니다. 스승이나 멘토의 조언을 구해보세요."
            },
            {
                name: "연인 (The Lovers)",
                image: "💕",
                meaning: "사랑과 선택의 기로를 나타냅니다. 중요한 결정을 내려야 할 때입니다. 마음의 소리에 귀 기울여보세요."
            },
            {
                name: "전차 (The Chariot)",
                image: "🏇",
                meaning: "승리와 의지력의 상징입니다. 강한 결심으로 목표를 향해 나아가세요. 어려움을 극복하고 성공을 거둘 것입니다."
            },
            {
                name: "힘 (Strength)",
                image: "💪",
                meaning: "내면의 힘과 용기를 나타냅니다. 부드러움으로 강함을 이기는 지혜가 필요합니다. 인내심을 가지고 기다리세요."
            },
            {
                name: "은둔자 (The Hermit)",
                image: "🏮",
                meaning: "내면의 성찰과 지혜의 추구를 의미합니다. 혼자만의 시간을 통해 진실을 발견할 것입니다. 명상과 사색이 필요합니다."
            },
            {
                name: "운명의 수레바퀴 (Wheel of Fortune)",
                image: "🎡",
                meaning: "변화와 순환의 상징입니다. 운명의 전환점에 서 있습니다. 새로운 기회가 찾아올 것입니다."
            },
            {
                name: "정의 (Justice)",
                image: "⚖️",
                meaning: "공정함과 균형을 나타냅니다. 옳은 일을 하면 좋은 결과를 얻을 것입니다. 객관적인 판단이 필요합니다."
            },
            {
                name: "매달린 사람 (The Hanged Man)",
                image: "🙃",
                meaning: "희생과 새로운 관점을 의미합니다. 기다림의 시간이 필요합니다. 관점을 바꿔보면 해답을 찾을 수 있습니다."
            },
            {
                name: "죽음 (Death)",
                image: "💀",
                meaning: "변화와 재생의 상징입니다. 끝은 새로운 시작을 의미합니다. 과거를 놓아주고 새로운 단계로 나아가세요."
            },
            {
                name: "절제 (Temperance)",
                image: "🏺",
                meaning: "균형과 조화를 나타냅니다. 중도의 길을 걸어야 합니다. 인내심을 가지고 천천히 진행하세요."
            },
            {
                name: "악마 (The Devil)",
                image: "😈",
                meaning: "유혹과 속박의 상징입니다. 자신을 제한하는 것들로부터 해방되어야 합니다. 내면의 그림자와 마주하세요."
            },
            {
                name: "탑 (The Tower)",
                image: "🗼",
                meaning: "급격한 변화와 깨달음을 의미합니다. 기존의 틀이 무너지고 새로운 것이 시작됩니다. 변화를 받아들이세요."
            },
            {
                name: "별 (The Star)",
                image: "⭐",
                meaning: "희망과 영감의 상징입니다. 밝은 미래가 기다리고 있습니다. 꿈을 향해 나아가면 성취할 수 있습니다."
            },
            {
                name: "달 (The Moon)",
                image: "🌙",
                meaning: "환상과 무의식을 나타냅니다. 혼란스러운 시기이지만 직감을 믿어야 합니다. 숨겨진 진실을 찾아보세요."
            },
            {
                name: "태양 (The Sun)",
                image: "☀️",
                meaning: "기쁨과 성공의 상징입니다. 모든 것이 순조롭게 진행될 것입니다. 긍정적인 에너지가 넘치는 시기입니다."
            },
            {
                name: "심판 (Judgement)",
                image: "📯",
                meaning: "부활과 새로운 인식을 의미합니다. 과거를 정리하고 새로운 삶을 시작할 때입니다. 내면의 소리에 귀 기울이세요."
            },
            {
                name: "세계 (The World)",
                image: "🌍",
                meaning: "완성과 성취의 상징입니다. 목표를 달성하고 완전함에 이를 것입니다. 새로운 주기의 시작을 알립니다."
            }
        ];

        let drawnCards = [];
        let revealedCount = 0;

        function drawCards() {
            const question = document.getElementById('userQuestion').value;
            if (!question.trim()) {
                alert('먼저 질문을 입력해주세요!');
                return;
            }

            // 카드 섞기
            const shuffledCards = [...tarotCards];
            for (let i = shuffledCards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledCards[i], shuffledCards[j]] = [shuffledCards[j], shuffledCards[i]];
            }

            // 3장 뽑기
            drawnCards = shuffledCards.slice(0, 3);

            // UI 업데이트
            for (let i = 0; i < 3; i++) {
                document.getElementById(`cardName${i}`).textContent = drawnCards[i].name;
                document.getElementById(`cardImage${i}`).textContent = drawnCards[i].image;
            }

            // 카드와 해석 영역 초기화
            resetCardDisplay();
            document.getElementById('interpretation').classList.remove('show');
            revealedCount = 0;

            // 카드 뒤집기 활성화
            document.querySelectorAll('.card').forEach(card => {
                card.style.pointerEvents = 'auto';
            });
        }

        function revealCard(index) {
            if (!drawnCards.length) {
                alert('먼저 카드를 뽑아주세요!');
                return;
            }

            const card = document.querySelectorAll('.card')[index];
            const cardBack = card.querySelector('.card-back');
            const cardFront = card.querySelector('.card-front');

            if (cardFront.classList.contains('revealed')) return;

            cardBack.classList.add('hidden');
            cardFront.classList.add('revealed');
            card.style.pointerEvents = 'none';

            revealedCount++;

            if (revealedCount === 3) {
                setTimeout(showInterpretation, 500);
            }
        }

        function showInterpretation() {
            const question = document.getElementById('userQuestion').value;
            const meanings = document.getElementById('cardMeanings');

            let interpretationHTML = `<div class="card-meaning">
                <h4>🔮 당신의 질문: "${question}"</h4>
                <p>세 장의 카드가 당신의 과거, 현재, 미래를 보여줍니다.</p>
            </div>`;

            const positions = ['과거 (Past)', '현재 (Present)', '미래 (Future)'];

            drawnCards.forEach((card, index) => {
                interpretationHTML += `
                    <div class="card-meaning">
                        <h4>${positions[index]} - ${card.name}</h4>
                        <p>${card.meaning}</p>
                    </div>
                `;
            });

            meanings.innerHTML = interpretationHTML;
            document.getElementById('interpretation').classList.add('show');
        }

        function resetReading() {
            document.getElementById('userQuestion').value = '';
            document.getElementById('interpretation').classList.remove('show');
            resetCardDisplay();
            drawnCards = [];
            revealedCount = 0;

            document.querySelectorAll('.card').forEach(card => {
                card.style.pointerEvents = 'none';
            });
        }

        function resetCardDisplay() {
            document.querySelectorAll('.card').forEach(card => {
                const cardBack = card.querySelector('.card-back');
                const cardFront = card.querySelector('.card-front');

                cardBack.classList.remove('hidden');
                cardFront.classList.remove('revealed');
            });
        }

        // 초기화
        resetReading();
    </script>
</body>
</html>